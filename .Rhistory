Missings$add.noise <- sub(".*albania.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*ecuador.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*liberia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*ukraine.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*bosniaandherzegovina.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*papuanewguinea.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*bahrain.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*ireland.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*switzerland.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*bhutan.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*botswana.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*italy.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*lithuania.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*timorleste.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*cyprus.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*jordan.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*kyrgyzrepublic.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*poland.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*serbia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*sovietunion.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*cuba.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*dominicanrepublic.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*gabon.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*madagascar.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*panama.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*austria.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*costarica.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*ghana.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*kazakhstan.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*netherlands.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*qatar.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*togo.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*yugoslavia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*argentina.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*hungary.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*malawi.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*portugal.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*puertorico.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*slovakrepublic.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*solomonislands.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*sweden.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*tanzania.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*trinidadandtobago.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*bulgaria.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*canada.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*comoros.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*croatia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*czechrepublic.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*equatorialguinea.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*estonia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*japan.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*latvia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*luxembourg.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*montenegro.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*antiguaandbarbuda.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*australia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*bahamasthe.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*belarus.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*belgium.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*belize.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*benin.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*denmark.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*fiji.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*iceland.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*slovenia.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*swaziland.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*vanuatu.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*kilometer.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*mountains.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*airbase.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*distcrict.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*highlands.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*hills.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*regimiento.*", 1, Missings$add.noise)
Missings$add.noise <- sub(".*junction.*", 1, Missings$add.noise)
Missings$add.noise[Missings$gtd.city == "Arunachal Pradesh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Assam" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bihar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Chhattisgarh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Goa" ] <- 1
Missings$add.noise[Missings$gtd.city == "Gujarat" ] <- 1
Missings$add.noise[Missings$gtd.city == "Haryana" ] <- 1
Missings$add.noise[Missings$gtd.city == "Himachal Pradesh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Jammu and Kashmir" ] <- 1
Missings$add.noise[Missings$gtd.city == "Jharkhand" ] <- 1
Missings$add.noise[Missings$gtd.city == "Karnataka" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kerala" ] <- 1
Missings$add.noise[Missings$gtd.city == "Madhya Pradesh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Maharashtra" ] <- 1
Missings$add.noise[Missings$gtd.city == "Manipur" ] <- 1
Missings$add.noise[Missings$gtd.city == "Meghalaya" ] <- 1
Missings$add.noise[Missings$gtd.city == "Mizoram" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nagaland" ] <- 1
Missings$add.noise[Missings$gtd.city == "Odisha" ] <- 1
Missings$add.noise[Missings$gtd.city == "Punjab" ] <- 1
Missings$add.noise[Missings$gtd.city == "Rajasthan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sikkim" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tamil Nadu" ] <- 1
Missings$add.noise[Missings$gtd.city == "Telangana" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tripura" ] <- 1
Missings$add.noise[Missings$gtd.city == "Uttar Pradesh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Uttarakhand" ] <- 1
Missings$add.noise[Missings$gtd.city == "West Bengal" ] <- 1
Missings$add.noise[Missings$gtd.city == "Punjab" ] <- 1
Missings$add.noise[Missings$gtd.city == " Sindh" ] <- 1
Missings$add.noise[Missings$gtd.city == " Khyber Pakhtunkhwa" ] <- 1
Missings$add.noise[Missings$gtd.city == " Balochistan" ] <- 1
Missings$add.noise[Missings$gtd.city == "changwat" ] <- 1
Missings$add.noise[Missings$gtd.city == "Al Anbar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Babil" ] <- 1
Missings$add.noise[Missings$gtd.city == "Orissa" ] <- 1
Missings$add.noise[Missings$gtd.city == "Dhi Qar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Diyala" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tharaka-Nithi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Taita-Taveta" ] <- 1
Missings$add.noise[Missings$gtd.city == "Makueni" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nyandarua" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kirinyaga" ] <- 1
Missings$add.noise[Missings$gtd.city == "Maysan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nineveh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Saladin" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sulaymaniyah" ] <- 1
Missings$add.noise[Missings$gtd.city == "Wasit " ] <- 1
Missings$add.noise[Missings$gtd.city == "Governorate" ] <- 1
Missings$add.noise[Missings$gtd.city == "Badakhshan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Badghis" ] <- 1
Missings$add.noise[Missings$gtd.city == "Baghlan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Balkh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Daykundi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ghor" ] <- 1
Missings$add.noise[Missings$gtd.city == "Helmand" ] <- 1
Missings$add.noise[Missings$gtd.city == "Jowzjan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kapisa" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kunar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Laghman" ] <- 1
Missings$add.noise[Missings$gtd.city == "Logar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Maidan Wardak" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nangarhar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nimruz" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nuristan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Paktia" ] <- 1
Missings$add.noise[Missings$gtd.city == "Paktika" ] <- 1
Missings$add.noise[Missings$gtd.city == "Panjshir" ] <- 1
Missings$add.noise[Missings$gtd.city == "Parwan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Takhar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Urozgan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Zabul" ] <- 1
Missings$add.noise[Missings$gtd.city == "Aceh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bali" ] <- 1
Missings$add.noise[Missings$gtd.city == "Babel" ] <- 1
Missings$add.noise[Missings$gtd.city == "Banten" ] <- 1
Missings$add.noise[Missings$gtd.city == "Java" ] <- 1
Missings$add.noise[Missings$gtd.city == "Jateng" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kalteng" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sulteng" ] <- 1
Missings$add.noise[Missings$gtd.city == "Jatim" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kaltim" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sumatra" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sulawesi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kalimantan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nusa Tenggara" ] <- 1
Missings$add.noise[Missings$gtd.city == "Maluku" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kaltara" ] <- 1
Missings$add.noise[Missings$gtd.city == "Malukuutara" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sulut" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sumut" ] <- 1
Missings$add.noise[Missings$gtd.city == "Papua" ] <- 1
Missings$add.noise[Missings$gtd.city == "Riau" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kepri" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sultra" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kalsel" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sulsel" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sumsel" ] <- 1
Missings$add.noise[Missings$gtd.city == "Jabar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kalbar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Papuabarat" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sulbar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sumbar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tenggara" ] <- 1
Missings$add.noise[Missings$gtd.city == "Papua" ] <- 1
Missings$add.noise[Missings$gtd.city == "Luzon" ] <- 1
Missings$add.noise[Missings$gtd.city == "Visayas" ] <- 1
Missings$add.noise[Missings$gtd.city == "Mindanao" ] <- 1
Missings$add.noise[Missings$gtd.city == "Antioquia" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bolívar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Boyaca" ] <- 1
Missings$add.noise[Missings$gtd.city == "Caldas" ] <- 1
Missings$add.noise[Missings$gtd.city == "Cauca" ] <- 1
Missings$add.noise[Missings$gtd.city == "Cundinamarca" ] <- 1
Missings$add.noise[Missings$gtd.city == "Huila" ] <- 1
Missings$add.noise[Missings$gtd.city == "Guajira" ] <- 1
Missings$add.noise[Missings$gtd.city == "Narino" ] <- 1
Missings$add.noise[Missings$gtd.city == "Santander" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sucre" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tolima" ] <- 1
Missings$add.noise[Missings$gtd.city == "Valle" ] <- 1
Missings$add.noise[Missings$gtd.city == "Naama" ] <- 1
Missings$add.noise[Missings$gtd.city == "El Bayadh" ] <- 1
Missings$add.noise[Missings$gtd.city == "Laghouat" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ouargla" ] <- 1
Missings$add.noise[Missings$gtd.city == "El Oued" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ghardaia" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tamanrasset " ] <- 1
Missings$add.noise[Missings$gtd.city == "Adrar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tindouf" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bechar" ] <- 1
Missings$add.noise[Missings$gtd.city == "Turkana" ] <- 1
Missings$add.noise[Missings$gtd.city == "Pokot" ] <- 1
Missings$add.noise[Missings$gtd.city == "Samburu" ] <- 1
Missings$add.noise[Missings$gtd.city == "Trans Nzoia" ] <- 1
Missings$add.noise[Missings$gtd.city == "Uasin Gishu" ] <- 1
Missings$add.noise[Missings$gtd.city == "Elgeyo" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nandi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Baringo" ] <- 1
Missings$add.noise[Missings$gtd.city == "Laikipia" ] <- 1
Missings$add.noise[Missings$gtd.city == "Marakwet" ] <- 1
Missings$add.noise[Missings$gtd.city == "Taita" ] <- 1
Missings$add.noise[Missings$gtd.city == "Taveta" ] <- 1
Missings$add.noise[Missings$gtd.city == "Tharaka" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nithi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Abia" ] <- 1
Missings$add.noise[Missings$gtd.city == "Adamawa" ] <- 1
Missings$add.noise[Missings$gtd.city == "Akwa Ibom" ] <- 1
Missings$add.noise[Missings$gtd.city == "Anambra" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bauchi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bayelsa" ] <- 1
Missings$add.noise[Missings$gtd.city == "Benue" ] <- 1
Missings$add.noise[Missings$gtd.city == "Borno" ] <- 1
Missings$add.noise[Missings$gtd.city == "Cross River" ] <- 1
Missings$add.noise[Missings$gtd.city == "Delta" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ebonyi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Edo" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ekiti" ] <- 1
Missings$add.noise[Missings$gtd.city == "Enugu" ] <- 1
Missings$add.noise[Missings$gtd.city == "Gombe" ] <- 1
Missings$add.noise[Missings$gtd.city == "Imo" ] <- 1
Missings$add.noise[Missings$gtd.city == "Jigawa" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kaduna" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kano" ] <- 1
Missings$add.noise[Missings$gtd.city == "Katsina" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kebbi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kogi" ] <- 1
Missings$add.noise[Missings$gtd.city == "Kwara" ] <- 1
Missings$add.noise[Missings$gtd.city == "Lagos" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nassarawa" ] <- 1
Missings$add.noise[Missings$gtd.city == "Niger" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ogun" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ondo" ] <- 1
Missings$add.noise[Missings$gtd.city == "Osun" ] <- 1
Missings$add.noise[Missings$gtd.city == "Oyo" ] <- 1
Missings$add.noise[Missings$gtd.city == "Plateau" ] <- 1
Missings$add.noise[Missings$gtd.city == "Rivers" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sokoto" ] <- 1
Missings$add.noise[Missings$gtd.city == "Taraba" ] <- 1
Missings$add.noise[Missings$gtd.city == "Yobe" ] <- 1
Missings$add.noise[Missings$gtd.city == "Zamfara" ] <- 1
Missings$add.noise[Missings$gtd.city == "Siberia" ] <- 1
Missings$add.noise[Missings$gtd.city == "Basso " ] <- 1
Missings$add.noise[Missings$gtd.city == "Medio Giuba" ] <- 1
Missings$add.noise[Missings$gtd.city == "Ghedo" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bai" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bakool" ] <- 1
Missings$add.noise[Missings$gtd.city == "Basso Scebeli" ] <- 1
Missings$add.noise[Missings$gtd.city == "Banaadir" ] <- 1
Missings$add.noise[Missings$gtd.city == "Medio Scebeli" ] <- 1
Missings$add.noise[Missings$gtd.city == "Hiiraan" ] <- 1
Missings$add.noise[Missings$gtd.city == "Galguduud" ] <- 1
Missings$add.noise[Missings$gtd.city == "Mudug" ] <- 1
Missings$add.noise[Missings$gtd.city == "Nugaal" ] <- 1
Missings$add.noise[Missings$gtd.city == "Bari" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sool" ] <- 1
Missings$add.noise[Missings$gtd.city == "Sanaag" ] <- 1
Missings$add.noise[Missings$gtd.city == "Togdheer" ] <- 1
Missings$add.noise[Missings$gtd.city == "Woqooyi Galbeed" ] <- 1
Missings$add.noise[Missings$gtd.city == "Awdal" ] <- 1
Missings$add.noise[Missings$gtd.city == "Giuba" ] <- 1
View(Missings)
PreGTD <- read.csv('TerrorData/Pregtd.csv')
X <- subset(PreGTD, !is.na(GTD.city) & is.na(WCUC.city))
X$GTD.city <- sub("^$", NA, X$GTD.city)
X$GTD.city <- sub("^ $", NA, X$GTD.city)
X <- subset(X, !is.na(GTD.city))
X$X <- 1
List <- aggregate(X$X, by=list(X$GTD.city), FUN=sum)
List <- List[order(-List$x), ]
rm(X)
List <- merge(List, PreGTD, by.x=c("Group.1"), by.y=c("GTD.city"), all.x=TRUE)
List <- subset(List, is.na(List$old.pop))
List <- List[!duplicated(List$merge),]
List1 <- subset(List, x>2)
List2 <- subset(List, x==2)
List3 <- subset(List, x==1)
List3a <- subset (List3, X<=median(X))
List3b <- subset (List3, !X<=median(X))
List31 <- subset (List3a, !X<=median(X))
List34 <- subset (List3a, X<=median(X))
List37 <- subset (List3b, !X<=median(X))
List39 <- subset (List3b, X<=median(X))
List32 <- subset (List31, !X<=median(X))
List31 <- subset (List31, X<=median(X))
List33 <- subset (List34, !X<=median(X))
List34 <- subset (List34, X<=median(X))
List35 <- subset (List37, !X<=median(X))
List36 <- subset (List37, X<=median(X))
List37 <- subset (List39, !X<=median(X))
List38 <- subset (List39, X<=median(X))
rm(List1, List2, List3, List3a, List3b, List39)
X <- subset(PreGTD, !is.na(GTD.city) & is.na(WCUC.city))
X$GTD.city <- sub("^$", NA, X$GTD.city)
X$GTD.city <- sub("^ $", NA, X$GTD.city)
X <- subset(X, !is.na(GTD.city))
X$X <- 1
List <- aggregate(X$X, by=list(X$GTD.city), FUN=sum)
List <- List[order(-List$x), ]
rm(X)
List <- merge(List, PreGTD, by.x=c("Group.1"), by.y=c("GTD.city"), all.x=TRUE)
List <- subset(List, is.na(List$old.pop))
List <- List[!duplicated(List$merge),]
List1 <- subset(List, x>2)
List2 <- subset(List, x==2)
List3 <- subset(List, x==1)
List3a <- subset (List3, X<=median(X))
List3b <- subset (List3, !X<=median(X))
List31 <- subset (List3a, !X<=median(X))
List34 <- subset (List3a, X<=median(X))
List37 <- subset (List3b, !X<=median(X))
List39 <- subset (List3b, X<=median(X))
List32 <- subset (List31, !X<=median(X))
List31 <- subset (List31, X<=median(X))
List33 <- subset (List34, !X<=median(X))
List34 <- subset (List34, X<=median(X))
List35 <- subset (List37, !X<=median(X))
List36 <- subset (List37, X<=median(X))
List37 <- subset (List39, !X<=median(X))
List38 <- subset (List39, X<=median(X))
rm(List3, List3a, List3b, List39)
X$X <- 1
List <- aggregate(X$X, by=list(X$GTD.city), FUN=sum)
List <- List[order(-List$x), ]
rm(X)
List <- merge(List, PreGTD, by.x=c("Group.1"), by.y=c("GTD.city"), all.x=TRUE)
List <- subset(List, is.na(List$old.pop))
List <- List[!duplicated(List$merge),]
List1 <- subset(List, x>3)
List2 <- subset(List, x==3)
List21<- subset(List, x==3)
List3 <- subset(List, x==1)
List3a <- subset (List3, X<=median(X))
List3b <- subset (List3, !X<=median(X))
List31 <- subset (List3a, !X<=median(X))
List34 <- subset (List3a, X<=median(X))
List37 <- subset (List3b, !X<=median(X))
List39 <- subset (List3b, X<=median(X))
List32 <- subset (List31, !X<=median(X))
List31 <- subset (List31, X<=median(X))
List33 <- subset (List34, !X<=median(X))
List34 <- subset (List34, X<=median(X))
List35 <- subset (List37, !X<=median(X))
List36 <- subset (List37, X<=median(X))
List37 <- subset (List39, !X<=median(X))
List38 <- subset (List39, X<=median(X))
rm(List3, List3a, List3b, List39)
X <- subset(PreGTD, !is.na(GTD.city) & is.na(WCUC.city))
X$GTD.city <- sub("^$", NA, X$GTD.city)
X$GTD.city <- sub("^ $", NA, X$GTD.city)
X <- subset(X, !is.na(GTD.city))
X$X <- 1
List <- aggregate(X$X, by=list(X$GTD.city), FUN=sum)
List <- List[order(-List$x), ]
rm(X)
List <- merge(List, PreGTD, by.x=c("Group.1"), by.y=c("GTD.city"), all.x=TRUE)
List <- subset(List, is.na(List$old.pop))
List <- List[!duplicated(List$merge),]
List1 <- subset(List, x>3)
List2 <- subset(List, x==3)
List21<- subset(List, x==3)
List3 <- subset(List, x==1)
List3a <- subset (List3, X<=median(X))
List3b <- subset (List3, !X<=median(X))
List31 <- subset (List3a, !X<=median(X))
List34 <- subset (List3a, X<=median(X))
List37 <- subset (List3b, !X<=median(X))
List39 <- subset (List3b, X<=median(X))
List32 <- subset (List31, !X<=median(X))
List31 <- subset (List31, X<=median(X))
List33 <- subset (List34, !X<=median(X))
List34 <- subset (List34, X<=median(X))
List35 <- subset (List37, !X<=median(X))
List36 <- subset (List37, X<=median(X))
List37 <- subset (List39, !X<=median(X))
List38 <- subset (List39, X<=median(X))
rm(List3, List3a, List3b, List39)
List21<- subset(List, x==2)
List21<- subset(List, x==2|3)
List21<- subset(List, x==2|3)
List21<- subset(List, x==2|x==3)
List2 <- subset(List, x==2|x==3)
List21 <- subset (List2, X<=median(X))
List1 <- subset (List2, !X<=median(X))
X <- subset(PreGTD, !is.na(GTD.city) & is.na(WCUC.city))
X$GTD.city <- sub("^$", NA, X$GTD.city)
X$GTD.city <- sub("^ $", NA, X$GTD.city)
X <- subset(X, !is.na(GTD.city))
X$X <- 1
List <- aggregate(X$X, by=list(X$GTD.city), FUN=sum)
List <- List[order(-List$x), ]
rm(X)
List <- merge(List, PreGTD, by.x=c("Group.1"), by.y=c("GTD.city"), all.x=TRUE)
List <- subset(List, is.na(List$old.pop))
List <- List[!duplicated(List$merge),]
List1 <- subset(List, x>3)
List2 <- subset(List, x==2|x==3)
List21 <- subset (List2, X<=median(X))
List2 <- subset (List2, !X<=median(X))
List3 <- subset(List, x==1)
List3a <- subset (List3, X<=median(X))
List3b <- subset (List3, !X<=median(X))
List31 <- subset (List3a, !X<=median(X))
List34 <- subset (List3a, X<=median(X))
List37 <- subset (List3b, !X<=median(X))
List39 <- subset (List3b, X<=median(X))
List32 <- subset (List31, !X<=median(X))
List31 <- subset (List31, X<=median(X))
List33 <- subset (List34, !X<=median(X))
List34 <- subset (List34, X<=median(X))
List35 <- subset (List37, !X<=median(X))
List36 <- subset (List37, X<=median(X))
List37 <- subset (List39, !X<=median(X))
List38 <- subset (List39, X<=median(X))
rm(List3, List3a, List3b, List39)
PreGTD <- read.csv('TerrorData/Pregtd.csv')
X <- subset(PreGTD, !is.na(GTD.city) & is.na(WCUC.city))
X$GTD.city <- sub("^$", NA, X$GTD.city)
X$GTD.city <- sub("^ $", NA, X$GTD.city)
X <- subset(X, !is.na(GTD.city))
X$X <- 1
List <- aggregate(X$X, by=list(X$GTD.city), FUN=sum)
List <- List[order(-List$x), ]
rm(X)
List <- merge(List, PreGTD, by.x=c("Group.1"), by.y=c("GTD.city"), all.x=TRUE)
List <- subset(List, is.na(List$old.pop))
List <- List[!duplicated(List$merge),]
List1 <- subset(List, x>3)
List2 <- subset(List, x==2|x==3)
List21 <- subset (List2, X<=median(X))
List2 <- subset (List2, !X<=median(X))
List3 <- subset(List, x==1)
List3a <- subset (List3, X<=median(X))
List3b <- subset (List3, !X<=median(X))
List31 <- subset (List3a, !X<=median(X))
List34 <- subset (List3a, X<=median(X))
List37 <- subset (List3b, !X<=median(X))
List39 <- subset (List3b, X<=median(X))
List32 <- subset (List31, !X<=median(X))
List31 <- subset (List31, X<=median(X))
List33 <- subset (List34, !X<=median(X))
List34 <- subset (List34, X<=median(X))
List35 <- subset (List37, !X<=median(X))
List36 <- subset (List37, X<=median(X))
List37 <- subset (List39, !X<=median(X))
List38 <- subset (List39, X<=median(X))
rm(List, List3, List3a, List3b, List39)
options(geonamesUsername="lokullustest")
#options(geonamesUsername="loklok13")
#options(geonamesUsername="loklok14")
GNName1 <- paste(List1$original.city, List1$country_txt, sep=", ")
ListGN1 <- ldply(sapply(GNName1, function (x) {(GNsearch(maxRows="2", featureClass="P", orderby="relevence", q=x))}), data.frame)
GNName1 <- paste(List1$original.city, List1$country_txt, sep=", ")
ListGN1 <- ldply(sapply(GNName1, function (x) {(GNsearch(maxRows="1", featureClass="P", orderby="relevence", q=x))}), data.frame)
ListGN1$merge <- ListGN1$.id
ListGN.small1 <- subset(ListGN1, select=c("merge", "lng", "lat", "population"))
write.csv(ListGN.small1, file="missing.latlon.over1.csv")
PreGTD <- read.csv('TerrorData/Pregtd.csv')
X <- subset(PreGTD, !is.na(GTD.city) & is.na(WCUC.city))
X$GTD.city <- sub("^$", NA, X$GTD.city)
X$GTD.city <- sub("^ $", NA, X$GTD.city)
X <- subset(X, !is.na(GTD.city))
X$X <- 1
List <- aggregate(X$X, by=list(X$GTD.city), FUN=sum)
List <- List[order(-List$x), ]
rm(X)
List <- merge(List, PreGTD, by.x=c("Group.1"), by.y=c("GTD.city"), all.x=TRUE)
List <- subset(List, is.na(List$old.pop))
List <- List[!duplicated(List$merge),]
List1 <- subset(List, x>3)
List2 <- subset(List, x==2|x==3)
List21 <- subset (List2, X<=median(X))
List2 <- subset (List2, !X<=median(X))
List3 <- subset(List, x==1)
List3a <- subset (List3, X<=median(X))
List3b <- subset (List3, !X<=median(X))
List31 <- subset (List3a, !X<=median(X))
List34 <- subset (List3a, X<=median(X))
List37 <- subset (List3b, !X<=median(X))
List39 <- subset (List3b, X<=median(X))
List32 <- subset (List31, !X<=median(X))
List31 <- subset (List31, X<=median(X))
List33 <- subset (List34, !X<=median(X))
List34 <- subset (List34, X<=median(X))
List35 <- subset (List37, !X<=median(X))
List36 <- subset (List37, X<=median(X))
List37 <- subset (List39, !X<=median(X))
List38 <- subset (List39, X<=median(X))
rm(List, List3, List3a, List3b, List39)
options(geonamesUsername="lokullustest")
#options(geonamesUsername="loklok13")
#options(geonamesUsername="loklok14")
GNName1 <- paste(List1$original.city, List1$country_txt, sep=", ")
ListGN1 <- ldply(sapply(GNName1, function (x) {(GNsearch(maxRows="1", featureClass="P", orderby="relevence", q=x))}), data.frame)
ListGN1$merge <- ListGN1$.id
ListGN.small1 <- subset(ListGN1, select=c("merge", "lng", "lat", "population"))
write.csv(ListGN.small1, file="missing.latlon.over1.csv")
